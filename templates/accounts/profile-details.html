{% extends 'common/base.html' %}
{% load static %}
{% block content %}

<section class="bg-pink-50 flex-grow flex items-center justify-center py-16">
    <div class="bg-white rounded-2xl shadow-xl w-full max-w-6xl p-10 grid md:grid-cols-3 gap-6">

        <!-- Left Column -->
        <section class="col-span-1 relative text-center space-y-4 border-2 border-pink-300 rounded-2xl p-6 mb-2">
            <!-- Edit Button -->
            {% if request.user == profile.user %}
                <a href="{% url 'profile-edit' profile.pk %}" class="absolute top-4 right-4 bg-white hover:bg-pink-600 text-white text-xs px-3 py-1 rounded-full shadow-md">
                    <img src="{% static 'common/edit.png' %}">
                </a>
            {% endif %}

            {% if profile.profile_pic.url %}
                <img src="{{ profile.profile_pic.url }}" class="w-40 h-40 rounded-full mx-auto">
            {% else %}
                <img src="https://i.pinimg.com/474x/9d/86/8e/9d868edb99fa442461138e2f9a1e0be1.jpg" class="w-32 h-32 rounded-full mx-auto">
            {% endif %}

            <h2 class="text-xl font-bold text-pink-600"> {{ profile.user.username }}</h2>

            {% if profile.full_name %}
            	<p class="text-sm text-pink-600"> {{ profile.full_name }} </p>
            {% endif %}

            <p class="text-sm text-pink-600"> {{ profile.user.email }} </p>

            {% if profile.bio %}
            	<p class="text-sm italic text-pink-500">{{ profile.bio }} </p>
            {% endif %}


            <div class="mt-2 space-y-1">
                <p class="text-sm text-pink-600"><strong>Age:</strong> {{ profile.age|default:'' }} </p>
                <p class="text-sm text-pink-600"><strong>Location:</strong> {{ profile.location|default:'' }}</p>
                <p class="text-sm text-pink-600"><strong>Skin type:</strong> {{ profile.skin_type|default:'' }} </p>
            </div>

        </section>

        <!-- Middle Column -->
        <section class="col-span-1 space-y-6 bg-pink-100 p-4 rounded-xl">
            <div>
                <h3 class="text-lg font-semibold text-pink-600 mb-1">Goals</h3>
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                    <li>To spend less time booking travel</li>
                    <li>To narrow her options quickly</li>
                </ul>
            </div>
            <div class="fav-events-container">
                <h3 class="text-lg font-semibold text-pink-600 mb-1">Fav Events</h3>
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1 max-h-40 overflow-y-auto">
                    {% for event in fav_events %}
                        <li class="hover:underline hover:text-pink-600 cursor-pointer">
                            <a href="{% url 'event-details' event.pk %}">
                                {{ event.title }}
                            </a>
                        </li>
                        {% empty %}
                        <li class="text-gray-700 italic">No fav events yet.</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="fav-events-container">
                <h3 class="text-lg font-semibold text-pink-600 mb-1">Fav Posts</h3>
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1 max-h-40 overflow-y-auto">
                    {% for post in fav_posts %}
                        <li class="hover:underline hover:text-pink-600 cursor-pointer">
                            <a href="{% url 'post-details' post.pk %}">
                                {{ post.title }}
                            </a>
                        </li>
                     {% empty %}
                        <li class="text-gray-700 italic">No fav posts yet.</li>
                    {% endfor %}
                </ul>
            </div>


            <div>
                <h3 class="text-lg font-semibold text-pink-600 mb-1">Night Routine</h3>
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                    <li>Too much time spent booking â€“ she's busy!</li>

                </ul>
            </div>
        </section>

        <!-- Right Column -->
        <section class="col-span-1 space-y-6 bg-pink-100 p-4 rounded-xl">
            <div class="fav-events-container">
                <h3 class="text-lg font-semibold text-pink-600 mb-1">My Posts</h3>
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1 max-h-40 overflow-y-auto">
                    {% for post in my_posts %}
                        <li class="hover:underline hover:text-pink-600 cursor-pointer">
                            <a href="{% url 'post-details' post.pk %}">
                                {{ post.title }}
                            </a>
                        </li>
                    {% empty %}
                        <li class="text-gray-700 italic">No posts yet.</li>
                    {% endfor %}
                </ul>
            </div>

            <div class="fav-events-container">
                <h3 class="text-lg font-semibold text-pink-600 mb-1">Joined Events</h3>
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1 max-h-40 overflow-y-auto">
                    {% for event in profile.joined_events.all %}
                        <li class="hover:underline hover:text-pink-600 cursor-pointer">
                            <a href="{% url 'event-details' event.pk %}">
                                {{ event.title }}
                            </a>
                        </li>
                    {% empty %}
                        <li class="text-gray-700 italic">No joined events yet.</li>
                    {% endfor %}
                </ul>
            </div>

            <div>
                <h3 class="text-lg font-semibold text-pink-600 mb-1">My Dairy:</h3>
                <div class="flex flex-wrap gap-4 text-gray-600 text-sm">
                    <span>Adidas</span>
                </div>
            </div>
        </section>
    </div>
</section>


{% endblock %}



